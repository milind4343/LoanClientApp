<div class="row">
  <div class="col-md-12">
    <nb-card>
      <nb-card-header>Fund History</nb-card-header>
      <nb-card-body>
          

        <div *ngIf="!IsAgent" class="col-md-12" style="float: right;">
         
          <!-- <button nbButton status="primary" class="btn-demo" style="float: right;margin: 10px"
            (click)="backtoagentlist()">
            Cancle </button> -->

            <label for="agent">Agent</label>
                <select class="form-control col-md-4" [(ngModel)]="agentId" #agent="ngModel" 
                name="agent" (change)="onAgentSelect(agentId,this)">              
                  <option value="0">- - Choose Agent - -</option>
                  <option *ngFor="let a of agentlist" value="{{a.userId}}">{{a.firstname + ' ' + a.lastname}}</option>
            </select>
            <h5 *ngIf="showsearchlbl" style="color: rebeccapurple;margin-top: 15px;">{{searchresult}}</h5>
            <br>
        </div>
        <!-- <h4  *ngIf="IsAgent" class="text-danger">{{agentName}}</h4> -->
        <br/>
        
        
        <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger" class="row-border hover">
          <thead style="text-align: center">
            <tr>
              <th>Fund Amount</th>
              <th>Remark</th>
              <th>Deposit Date</th>
              <th>Deposited by</th>
              <th>Is Received</th>
            </tr>
          </thead>
          <tbody style="text-align: center">
            <tr *ngFor="let fund of fundHistorylist">
              <td><span>â‚½</span>{{fund.fundamount}}</td>
              <td>{{fund.remark}}</td>
              <td>{{fund.createddate | date:'dd-MM-yyyy hh:mm'}}</td>
              <td>{{fund.depositby}}</td>
              <td>
                <span><i class="fa fa-check fa-lg" aria-hidden="true" title="" *ngIf="fund.isreceive && IsAgent===false"></i></span>
                <span><i class="fa fa-times fa-lg" aria-hidden="true" title="" *ngIf="fund.isreceive===false && IsAgent === false"></i></span>
                <ui-switch size="small" *ngIf="IsAgent" name="activeTog" #activeTog="ngModel" title="Status"
                  [ngModelOptions]="{standalone: true}" [(ngModel)]="fund.isreceive" (change)="isreceive(fund)"
                  [disabled]="(fund.isreceive) || pageaccesscontrol.isedit"></ui-switch>
              </td>
            </tr>
          </tbody>
        </table>
      </nb-card-body>
    </nb-card>
  </div>
</div>